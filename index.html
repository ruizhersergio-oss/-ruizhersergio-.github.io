<!DOCTYPE html>
<html lang="es-ES">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    
    <title>Restaurante La Clave Daimiel | Cocina Manchega Casera y Tradicional</title>
    <meta name="description" content="Restaurante La Clave en Daimiel, Ciudad Real. Cocina casera manchega con productos locales. Especialidades: arroz con bogavante, pisto manchego, carpaccio de bacalao. Reservas: 669 67 09 85">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans:wght@400;500;600&family=Montserrat:wght@600;700;800&display=swap" rel="stylesheet">
    
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        html {
            scroll-behavior: smooth;
        }
        
        body {
            font-family: 'IBM Plex Sans', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            line-height: 1.6;
            color: #333;
            overflow-x: hidden;
        }
        
        h1, h2 {
            font-family: 'Halyard Display', 'Montserrat', sans-serif;
            font-weight: 700;
            letter-spacing: -0.5px;
        }
        
        h3, h4 {
            font-family: 'Futura', 'Century Gothic', sans-serif;
            font-weight: 400;
            letter-spacing: 0.5px;
        }
        
        header {
            background: linear-gradient(135deg, #8B4513 0%, #A0522D 100%);
            color: white;
            padding: 1rem 0;
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }
        
        nav {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 1rem;
            flex-wrap: wrap;
            gap: 0.5rem;
        }
        
        .logo {
            font-family: 'Halyard Display', 'Montserrat', sans-serif;
            font-size: clamp(1.3rem, 4vw, 1.8rem);
            font-weight: 800;
            letter-spacing: 3px;
            animation: fadeInDown 0.8s ease-out;
        }
        
        .nav-links {
            display: flex;
            list-style: none;
            gap: clamp(0.5rem, 2vw, 2rem);
            flex-wrap: nowrap;
            align-items: center;
        }
        
        .nav-links li {
            opacity: 0;
            animation: fadeInUp 0.6s ease-out forwards;
        }
        
        .nav-links li:nth-child(1) { animation-delay: 0.1s; }
        .nav-links li:nth-child(2) { animation-delay: 0.2s; }
        .nav-links li:nth-child(3) { animation-delay: 0.3s; }
        .nav-links li:nth-child(4) { animation-delay: 0.4s; }
        .nav-links li:nth-child(5) { animation-delay: 0.5s; }
        
        .nav-links a {
            color: white;
            text-decoration: none;
            font-size: clamp(0.8rem, 2vw, 1.05rem);
            font-weight: 500;
            transition: all 0.3s ease;
            position: relative;
            padding: 0.5rem clamp(0.3rem, 1.5vw, 1rem);
            border-radius: 5px;
            display: block;
            white-space: nowrap;
        }
        
        .nav-links a::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            width: 0;
            height: 2px;
            background: #FFD700;
            transition: all 0.3s ease;
            transform: translateX(-50%);
        }
        
        .nav-links a:hover {
            color: #FFD700;
            background: rgba(255, 215, 0, 0.1);
            transform: translateY(-2px);
        }
        
        .nav-links a:hover::before {
            width: 80%;
        }
        
        .admin-btn-float {
            position: fixed;
            bottom: 30px;
            left: 30px;
            background: rgba(139, 69, 19, 0.95);
            color: white;
            padding: 0.7rem 1.5rem;
            border-radius: 50px;
            font-size: 0.9rem;
            font-weight: 600;
            cursor: pointer;
            z-index: 1000;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
            transition: all 0.3s ease;
            border: 2px solid #FFD700;
            text-decoration: none;
            display: flex;
            align-items: center;
            gap: 0.5rem;
            opacity: 1;
        }
        
        .admin-btn-float:hover {
            background: rgba(160, 82, 45, 0.95);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.4);
        }
        
        .admin-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            z-index: 10002;
            overflow-y: auto;
            animation: fadeIn 0.3s ease;
        }
        
        .admin-modal.show {
            display: block;
        }
        
        .admin-modal-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 2rem;
            color: white;
        }
        
        .admin-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
            padding-bottom: 1rem;
            border-bottom: 2px solid rgba(255,215,0,0.3);
        }
        
        .admin-header h2 {
            color: white;
            font-size: 2rem;
        }
        
        .close-admin-btn {
            background: transparent;
            border: 2px solid white;
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .close-admin-btn:hover {
            background: rgba(255,255,255,0.1);
            transform: scale(1.05);
        }
        
        .admin-login {
            max-width: 400px;
            margin: 0 auto;
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
            margin-top: 5rem;
        }
        
        .admin-login h3 {
            color: #8B4513;
            margin-bottom: 1.5rem;
            text-align: center;
        }
        
        .pin-input {
            width: 100%;
            padding: 1rem;
            font-size: 1.5rem;
            text-align: center;
            letter-spacing: 1rem;
            border: 2px solid #ddd;
            border-radius: 10px;
            margin-bottom: 1rem;
        }
        
        .admin-content {
            display: none;
        }
        
        .admin-content.active {
            display: block;
        }
        
        .admin-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .stat-card {
            background: white;
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
        }
        
        .stat-card h3 {
            color: #8B4513;
            font-size: 2rem;
            margin-bottom: 0.5rem;
        }
        
        .stat-card p {
            color: #666;
            font-size: 0.9rem;
        }
        
        .stat-card.warning {
            background: #fff3cd;
            border-left: 4px solid #ffc107;
        }
        
        .stat-card.warning h3 {
            color: #ff9800;
        }
        
        .calendar-container {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }
        
        .calendar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .calendar-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 1rem;
        }
        
        .calendar-day-card {
            border: 2px solid #ddd;
            border-radius: 10px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .calendar-day-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 20px rgba(0,0,0,0.2);
        }
        
        .calendar-day-card.selected {
            border: 3px solid #FFD700;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.6);
        }
        
        .calendar-day-header {
            background: #8B4513;
            color: white;
            padding: 0.5rem;
            text-align: center;
            font-weight: 600;
        }
        
        .calendar-day-header strong {
            font-size: 1.3rem;
            display: block;
        }
        
        .calendar-day-header small {
            font-size: 0.8rem;
            opacity: 0.9;
        }
        
        .calendar-turnos {
            display: flex;
            flex-direction: column;
        }
        
        .turno-status {
            padding: 1rem 0.5rem;
            text-align: center;
            font-size: 0.85rem;
            font-weight: 600;
            border-bottom: 1px solid #ddd;
        }
        
        .turno-status:last-child {
            border-bottom: none;
        }
        
        .turno-status.available {
            background: #c8e6c9;
            color: #1b5e20;
        }
        
        .turno-status.partial {
            background: #ffe0b2;
            color: #e65100;
        }
        
        .turno-status.full {
            background: #ffcdd2;
            color: #c62828;
        }
        
        .turno-status.past {
            background: #f5f5f5;
            color: #999;
        }
        
        .day-reservations {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
            display: none;
        }
        
        .day-reservations.show {
            display: block;
        }
        
        .day-reservations h3 {
            color: #8B4513;
            margin-bottom: 1.5rem;
            font-size: 1.5rem;
        }
        
        .turno-section {
            margin-bottom: 2rem;
        }
        
        .turno-section h4 {
            color: #8B4513;
            font-size: 1.2rem;
            margin-bottom: 1rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid #FFD700;
        }
        
        .reservation-mini {
            background: #f8f9fa;
            padding: 1rem;
            border-radius: 8px;
            margin-bottom: 0.5rem;
            border-left: 4px solid #8B4513;
            display: flex;
            justify-content: space-between;
            align-items: center;
            gap: 1rem;
        }
        
        .reservation-mini.pendiente {
            background: #fff8e1;
            border-left-color: #ff9800;
        }
        
        .reservation-mini.confirmada {
            background: #e8f5e9;
            border-left-color: #4caf50;
        }
        
        .reservation-mini strong {
            color: #8B4513;
            display: block;
            margin-bottom: 0.3rem;
        }
        
        .reservation-mini small {
            color: #666;
            font-size: 0.9rem;
        }
        
        .estado-badge {
            padding: 0.3rem 0.8rem;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            white-space: nowrap;
        }
        
        .estado-badge.pendiente {
            background: #fff3cd;
            color: #ff9800;
            border: 1px solid #ff9800;
        }
        
        .estado-badge.confirmada {
            background: #d4edda;
            color: #28a745;
            border: 1px solid #28a745;
        }
        
        .confirm-btn {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            border: none;
            padding: 0.5rem 1rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            font-size: 0.85rem;
            box-shadow: 0 2px 8px rgba(40, 167, 69, 0.3);
        }
        
        .confirm-btn:hover {
            background: linear-gradient(135deg, #20c997 0%, #28a745 100%);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(40, 167, 69, 0.4);
        }
        
        .no-reservations {
            color: #999;
            font-style: italic;
            text-align: center;
            padding: 1rem;
        }
        
        .reservations-list {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .reservation-item {
            padding: 1rem;
            border-left: 4px solid #8B4513;
            background: #ffffff;
            margin-bottom: 1rem;
            border-radius: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
            gap: 1rem;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        
        .reservation-item.pendiente {
            background: #fff8e1;
            border-left-color: #ff9800;
        }
        
        .reservation-item.confirmada {
            background: #e8f5e9;
            border-left-color: #4caf50;
        }
        
        .reservation-info {
            flex: 1;
            color: #333;
        }
        
        .reservation-info strong {
            color: #8B4513;
            font-size: 1.1rem;
            display: block;
            margin-bottom: 0.3rem;
        }
        
        .reservation-info small {
            color: #666;
            font-size: 0.95rem;
        }
        
        .reservation-actions {
            display: flex;
            gap: 0.5rem;
            flex-wrap: wrap;
        }
        
        .delete-btn {
            background: linear-gradient(135deg, #f44336 0%, #d32f2f 100%);
            color: white;
            border: none;
            padding: 0.7rem 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            box-shadow: 0 4px 10px rgba(244, 67, 54, 0.3);
        }
        
        .delete-btn:hover {
            background: linear-gradient(135deg, #d32f2f 0%, #b71c1c 100%);
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(244, 67, 54, 0.4);
        }
        
        .add-manual-btn {
            background: linear-gradient(135deg, #8B4513 0%, #A0522D 100%);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            margin-bottom: 2rem;
            display: block;
            margin-left: auto;
            margin-right: auto;
        }
        
        .add-manual-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(139, 69, 19, 0.4);
        }
        
        .submit-btn {
            width: 100%;
            background: linear-gradient(135deg, #25D366 0%, #20BA5A 100%);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 50px;
            font-size: clamp(1rem, 2.5vw, 1.1rem);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 1rem;
        }
        
        .submit-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(37, 211, 102, 0.4);
        }
        
        .cancel-btn {
            width: 100%;
            background: linear-gradient(135deg, #f44336 0%, #d32f2f 100%);
            color: white;
            padding: 1rem 2rem;
            border: none;
            border-radius: 50px;
            font-size: clamp(1rem, 2.5vw, 1.1rem);
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            box-shadow: 0 4px 10px rgba(244, 67, 54, 0.3);
        }
        
        .cancel-btn:hover {
            background: linear-gradient(135deg, #d32f2f 0%, #b71c1c 100%);
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(244, 67, 54, 0.4);
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 10003;
            overflow-y: auto;
        }
        
        .modal.show {
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background: white;
            padding: 2rem;
            border-radius: 15px;
            max-width: 600px;
            width: 90%;
            margin: 2rem;
            max-height: 90vh;
            overflow-y: auto;
        }
        
        .phone-group {
            display: flex;
            gap: 0.5rem;
        }
        
        .prefix-select {
            width: 120px;
            padding: 0.8rem 0.5rem;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: clamp(0.95rem, 2vw, 1rem);
            font-family: inherit;
            transition: border-color 0.3s;
        }
        
        .prefix-select:focus {
            outline: none;
            border-color: #8B4513;
        }
        
        .phone-input {
            flex: 1;
        }

        /* NUEVO: Gesti√≥n de imagen de men√∫ diario */
        .menu-preview-container {
            text-align: center;
            margin-top: 2rem;
            border: 3px dashed #8B4513;
            padding: 1rem;
            border-radius: 15px;
            background: #fff;
        }
        .menu-img-display {
            max-width: 100%;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            display: none;
            margin-top: 1rem;
        }
        .no-menu-msg {
            padding: 1.5rem 1rem;
            color: #777;
            font-style: italic;
            font-size: 0.95rem;
        }
        .admin-upload-section {
            background: #f8f9fa;
            padding: 1.5rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            border: 2px solid #8B4513;
        }
        .upload-label {
            display: block;
            background: #8B4513;
            color: white;
            padding: 1rem;
            border-radius: 8px;
            cursor: pointer;
            text-align: center;
            margin-bottom: 1rem;
            transition: 0.3s;
            font-weight: 600;
        }
        .upload-label:hover {
            background: #A0522D;
        }
        input[type="file"] {
            display: none;
        }
        
        @keyframes fadeInDown {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .hero {
            background: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), 
                        url('https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=1600&q=80');
            background-size: cover;
            background-position: center;
            min-height: 500px;
            height: 70vh;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            color: white;
            padding: 2rem;
        }
        
        .hero-content h1 {
            font-size: clamp(2rem, 5vw, 3.5rem);
            margin-bottom: 1rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.7);
            font-weight: 800;
        }
        
        .hero-content p {
            font-size: clamp(1.1rem, 3vw, 1.5rem);
            margin-bottom: 2rem;
            text-shadow: 1px 1px 3px rgba(0,0,0,0.7);
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .cta-button {
            background: #FFD700;
            color: #333;
            padding: 1rem 2.5rem;
            text-decoration: none;
            font-size: clamp(1rem, 2.5vw, 1.2rem);
            font-weight: 600;
            border-radius: 50px;
            transition: transform 0.3s, box-shadow 0.3s;
            display: inline-block;
        }
        
        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(255,215,0,0.4);
        }
        
        section {
            max-width: 1200px;
            margin: 0 auto;
            padding: clamp(2rem, 5vw, 4rem) clamp(1rem, 3vw, 2rem);
            scroll-margin-top: 80px;
        }
        
        h2 {
            font-size: clamp(2.2rem, 5vw, 2.8rem);
            color: #8B4513;
            margin-bottom: 2rem;
            text-align: center;
            position: relative;
            padding-bottom: 1rem;
        }
        
        h2::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 3px;
            background: #FFD700;
        }
        
        .reserva {
            background: linear-gradient(135deg, #FFF8DC 0%, #FAEBD7 100%);
        }
        
        .reserva-container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: clamp(2rem, 4vw, 3rem);
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .form-group {
            margin-bottom: 1.5rem;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: #8B4513;
            font-weight: 600;
            font-size: clamp(1rem, 2.5vw, 1.1rem);
        }
        
        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 0.8rem 1rem;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: clamp(0.95rem, 2vw, 1rem);
            font-family: inherit;
            transition: border-color 0.3s;
        }
        
        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: #8B4513;
        }
        
        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }
        
        .info-box {
            background: #FFF8DC;
            padding: 1rem 1.5rem;
            border-radius: 10px;
            margin-bottom: 2rem;
            border-left: 4px solid #FFD700;
        }
        
        .info-box p {
            font-size: clamp(0.9rem, 2vw, 0.95rem);
            color: #666;
            margin: 0;
            line-height: 1.6;
        }
        
        .availability-info {
            background: #e8f5e9;
            padding: 0.5rem 1rem;
            border-radius: 5px;
            margin-top: 0.5rem;
            font-size: 0.9rem;
            color: #2e7d32;
            font-weight: 600;
        }
        
        .availability-info.warning {
            background: #fff3e0;
            color: #e65100;
        }
        
        .availability-info.full {
            background: #ffebee;
            color: #c62828;
        }
        
        .especialidades-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(280px, 100%), 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }
        
        .plato-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s;
        }
        
        .plato-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
        }
        
        .plato-imagen {
            height: 250px;
            background: #f5f5f5;
            position: relative;
            overflow: hidden;
        }
        
        .plato-imagen img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: center;
            transition: transform 0.3s;
        }
        
        .plato-card:hover .plato-imagen img {
            transform: scale(1.05);
        }
        
        .plato-info {
            padding: 1.5rem;
        }
        
        .plato-info h3 {
            color: #8B4513;
            margin-bottom: 0.5rem;
            font-size: clamp(1.3rem, 3vw, 1.5rem);
        }
        
        .plato-info p {
            color: #666;
            font-size: clamp(1rem, 2.5vw, 1rem);
            line-height: 1.6;
        }
        
        .menu {
            background: #FFF8DC;
        }
        
        .menu-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(300px, 100%), 1fr));
            gap: 3rem;
            margin-top: 2rem;
        }
        
        .menu-box {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .menu-box h3 {
            color: #8B4513;
            font-size: clamp(1.5rem, 3.5vw, 1.9rem);
            margin-bottom: 1rem;
            border-bottom: 2px solid #FFD700;
            padding-bottom: 0.5rem;
        }
        
        .precio {
            font-family: 'Halyard Display', 'Montserrat', sans-serif;
            font-size: clamp(1.8rem, 4vw, 2.2rem);
            color: #FFD700;
            font-weight: 700;
            margin: 1rem 0;
        }
        
        .menu-items {
            list-style: none;
            margin-top: 1rem;
        }
        
        .menu-items li {
            padding: 0.5rem 0;
            padding-left: 1.5rem;
            position: relative;
            font-size: clamp(1rem, 2.5vw, 1.05rem);
        }
        
        .menu-items li::before {
            content: '‚úì';
            position: absolute;
            left: 0;
            color: #8B4513;
            font-weight: bold;
        }
        
        .contacto-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(min(300px, 100%), 1fr));
            gap: 3rem;
            margin-top: 2rem;
        }
        
        .contacto-info {
            background: #FFF8DC;
            padding: clamp(1.5rem, 3vw, 2rem);
            border-radius: 10px;
        }
        
        .info-item {
            margin-bottom: 1.5rem;
            display: flex;
            align-items: start;
            gap: 1rem;
            flex-wrap: wrap;
        }
        
        .info-item strong {
            font-family: 'Futura', 'Century Gothic', sans-serif;
            color: #8B4513;
            font-size: clamp(1.1rem, 3vw, 1.2rem);
            min-width: 120px;
        }
        
        .info-item span {
            font-size: clamp(1rem, 2.5vw, 1.05rem);
            flex: 1;
        }
        
        .horarios {
            background: white;
            padding: clamp(1.5rem, 3vw, 2rem);
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .horarios h3 {
            color: #8B4513;
            margin-bottom: 1rem;
            font-size: clamp(1.4rem, 3.5vw, 1.7rem);
        }
        
        .horarios p {
            margin-bottom: 0.8rem;
            font-size: clamp(1rem, 2.5vw, 1.1rem);
            line-height: 1.7;
        }
        
        .mapa-container {
            margin-top: 3rem;
            border-radius: 15px;
            overflow: hidden;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        .mapa-container iframe {
            width: 100%;
            height: 400px;
            border: none;
        }
        
        .whatsapp-float {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: #25D366;
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.3);
            cursor: pointer;
            transition: transform 0.3s;
            z-index: 1000;
            text-decoration: none;
        }
        
        .whatsapp-float:hover {
            transform: scale(1.1);
        }
        
        .whatsapp-float svg {
            width: 32px;
            height: 32px;
            fill: white;
        }
        
        footer {
            background: #8B4513;
            color: white;
            text-align: center;
            padding: 2rem 1rem;
        }
        
        footer p {
            font-size: clamp(0.9rem, 2vw, 1rem);
            margin-bottom: 0.5rem;
        }
        
        .footer-links {
            margin-top: 1rem;
            display: flex;
            justify-content: center;
            gap: 2rem;
            flex-wrap: wrap;
        }
        
        .footer-links a {
            color: #FFD700;
            text-decoration: none;
            font-size: 0.9rem;
            transition: opacity 0.3s;
        }
        
        .footer-links a:hover {
            opacity: 0.8;
            text-decoration: underline;
        }
        
        .legal-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.8);
            z-index: 10004;
            overflow-y: auto;
        }
        
        .legal-modal.show {
            display: flex;
            align-items: start;
            justify-content: center;
            padding: 2rem 0;
        }
        
        .legal-content {
            background: white;
            padding: 3rem;
            border-radius: 15px;
            max-width: 800px;
            width: 90%;
            margin: 2rem;
        }
        
        .legal-content h2 {
            color: #8B4513;
            margin-bottom: 2rem;
        }
        
        .legal-content h3 {
            color: #8B4513;
            font-size: 1.3rem;
            margin-top: 2rem;
            margin-bottom: 1rem;
        }
        
        .legal-content p {
            color: #333;
            line-height: 1.8;
            margin-bottom: 1rem;
        }
        
        .legal-content ul {
            margin-left: 2rem;
            margin-bottom: 1rem;
        }
        
        .legal-content ul li {
            margin-bottom: 0.5rem;
            color: #666;
        }
        
        .close-legal-btn {
            background: linear-gradient(135deg, #8B4513 0%, #A0522D 100%);
            color: white;
            padding: 0.8rem 2rem;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            display: block;
            margin: 2rem auto 0;
        }
        
        .close-legal-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 25px rgba(139, 69, 19, 0.4);
        }
        
        /* RESPONSIVE - M√ìVIL */
        @media (max-width: 768px) {
            .admin-btn-float {
                bottom: 20px;
                left: 20px;
                padding: 0.5rem 1rem;
                font-size: 0.8rem;
                gap: 0.3rem;
            }
            
            nav {
                justify-content: center;
                text-align: center;
                padding: 0 0.5rem;
            }
            
            .logo {
                width: 100%;
                margin-bottom: 0.5rem;
                font-size: 1.2rem;
            }
            
            .nav-links {
                width: 100%;
                justify-content: center;
                gap: 0.2rem;
                flex-wrap: nowrap;
            }
            
            .nav-links a {
                font-size: 0.7rem;
                padding: 0.35rem 0.5rem;
                white-space: nowrap;
            }
            
            .calendar-grid {
                grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
                gap: 0.5rem;
            }
            
            .turno-status {
                padding: 0.5rem 0.3rem;
                font-size: 0.75rem;
            }
            
            .admin-modal-content {
                padding: 1rem;
            }
            
            .calendar-container {
                padding: 1rem;
                margin-bottom: 1rem;
            }
            
            .day-reservations {
                padding: 1rem;
            }
            
            .day-reservations h3 {
                font-size: 1.1rem;
            }
            
            .turno-section h4 {
                font-size: 1rem;
            }
            
            .reservation-mini {
                padding: 0.7rem;
                flex-direction: column;
                align-items: flex-start;
            }
            
            .reservation-actions {
                width: 100%;
                justify-content: flex-start;
            }
            
            .confirm-btn, .delete-btn {
                padding: 0.4rem 0.8rem;
                font-size: 0.75rem;
            }
            
            .admin-stats {
                grid-template-columns: 1fr 1fr;
                gap: 0.8rem;
            }
            
            .stat-card {
                padding: 1rem;
            }
            
            .stat-card h3 {
                font-size: 1.5rem;
            }
            
            .stat-card p {
                font-size: 0.8rem;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .phone-group {
                flex-direction: column;
            }
            
            .prefix-select {
                width: 100%;
            }
            
            .legal-content {
                padding: 2rem 1.5rem;
            }
            
            .whatsapp-float {
                bottom: 20px;
                right: 20px;
                width: 55px;
                height: 55px;
            }
            
            .mapa-container iframe {
                height: 300px;
            }
        }
    </style>
</head>
<body>
    <button class="admin-btn-float" onclick="abrirModalAdmin()">
        <span>üë§</span>
        <span>Admin</span>
    </button>

    <div class="admin-modal" id="adminModal">
        <div class="admin-modal-content">
            <div class="admin-header">
                <h2>üë§ Panel de Administraci√≥n</h2>
                <button class="close-admin-btn" onclick="cerrarModalAdmin()">‚úñ Cerrar</button>
            </div>
            
            <div class="admin-login" id="adminLogin">
                <h3>üîê Acceso Restringido</h3>
                <p style="text-align: center; color: #666; margin-bottom: 1rem;">Introduce el PIN de acceso</p>
                <input type="password" class="pin-input" id="pinInput" maxlength="4" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢" onkeypress="if(event.key==='Enter') verificarPIN()">
                <button type="button" class="submit-btn" onclick="verificarPIN()">Acceder</button>
            </div>
            
            <div class="admin-content" id="adminContent">
                <div class="admin-stats">
                    <div class="stat-card warning">
                        <h3 id="reservasPendientes">0</h3>
                        <p>üü° Pendientes de Confirmar</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="reservasConfirmadas">0</h3>
                        <p>üü¢ Confirmadas</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="reservasHoy">0</h3>
                        <p>Reservas Hoy</p>
                    </div>
                    <div class="stat-card">
                        <h3 id="ingresosEstimados">0‚Ç¨</h3>
                        <p>Ingresos Estimados</p>
                    </div>
                </div>

                <!-- NUEVO: Subida de foto de men√∫ desde Admin -->
                <div class="admin-upload-section">
                    <h3 style="color:#8B4513; margin-bottom:0.5rem;">üì∏ Men√∫ del d√≠a</h3>
                    <label for="menuFile" class="upload-label">Subir foto del men√∫</label>
                    <input type="file" id="menuFile" accept="image/*" onchange="actualizarFotoMenu(this)">
                    <p style="font-size:0.85rem; color:#555; margin:0;">
                        Haz una foto a la pizarra o a la carta del d√≠a y se actualizar√° el men√∫ visible en la web.
                    </p>
                </div>
                
                <button class="add-manual-btn" onclick="abrirModalReserva()">‚ûï A√±adir Reserva Manual</button>
                
                <div class="calendar-container">
                    <div class="calendar-header">
                        <h3 style="color: #8B4513;">üìÖ Calendario de Reservas</h3>
                    </div>
                    <div class="calendar-grid" id="calendarGrid"></div>
                </div>
                
                <div class="day-reservations" id="dayReservations">
                    <h3 id="dayTitle">Reservas del d√≠a</h3>
                    <div class="turno-section">
                        <h4>üåÖ Mediod√≠a</h4>
                        <div id="reservasMediodia"></div>
                    </div>
                    <div class="turno-section">
                        <h4>üåô Cena</h4>
                        <div id="reservasNoche"></div>
                    </div>
                </div>
                
                <div class="reservations-list">
                    <h3 style="color: #8B4513; margin-bottom: 1.5rem;">üìã Todas las Reservas</h3>
                    <div id="reservationsList"></div>
                </div>
            </div>
        </div>
    </div>

    <header role="banner">
        <nav role="navigation">
            <div class="logo">LA CLAVE</div>
            <ul class="nav-links">
                <li><a href="#inicio">Inicio</a></li>
                <li><a href="#reserva">Reservar</a></li>
                <li><a href="#especialidades">Especialidades</a></li>
                <li><a href="#menu">Men√∫</a></li>
                <li><a href="#contacto">Contacto</a></li>
            </ul>
        </nav>
    </header>

    <section id="inicio" class="hero">
        <div class="hero-content">
            <div>
                <h1>Restaurante La Clave</h1>
                <p>Cocina casera manchega con pasi√≥n y tradici√≥n</p>
                <a href="#reserva" class="cta-button">Reserva tu Mesa</a>
            </div>
        </div>
    </section>

    <section id="reserva" class="reserva">
        <h2>üçΩÔ∏è Reserva tu Mesa</h2>
        <div class="reserva-container">
            <div class="info-box">
                <p>üì± <strong>Reserva r√°pida por WhatsApp</strong> - Completa el formulario y te llevaremos directamente a nuestro WhatsApp con todos los datos listos.</p>
            </div>
            
            <form id="reservaForm" onsubmit="enviarReserva(event)">
                <div class="form-group">
                    <label for="nombre">üë§ Nombre completo *</label>
                    <input type="text" id="nombre" name="nombre" required placeholder="Ej: Juan Garc√≠a">
                </div>
                
                <div class="form-group">
                    <label for="telefono">‚òéÔ∏è Tel√©fono de contacto *</label>
                    <div class="phone-group">
                        <select id="prefijo" name="prefijo" class="prefix-select" required>
                            <option value="+34" selected>üá™üá∏ +34</option>
                            <option value="+33">üá´üá∑ +33</option>
                            <option value="+44">üá¨üáß +44</option>
                            <option value="+49">üá©üá™ +49</option>
                            <option value="+351">üáµüáπ +351</option>
                            <option value="+39">üáÆüáπ +39</option>
                            <option value="+1">üá∫üá∏ +1</option>
                            <option value="+52">üá≤üáΩ +52</option>
                            <option value="+54">üá¶üá∑ +54</option>
                        </select>
                        <input type="tel" id="telefono" name="telefono" class="phone-input" required 
                               placeholder="600123456" pattern="[0-9]{9}" 
                               title="Introduce 9 d√≠gitos" maxlength="9">
                    </div>
                </div>
                
                <div class="form-row">
                    <div class="form-group">
                        <label for="fecha">üìÖ Fecha *</label>
                        <input type="date" id="fecha" name="fecha" required onchange="actualizarHorasDisponibles()">
                    </div>
                    
                    <div class="form-group">
                        <label for="hora">üïê Hora *</label>
                        <select id="hora" name="hora" required onchange="mostrarDisponibilidad()">
                            <option value="">Selecciona hora</option>
                        </select>
                        <div id="availabilityInfo"></div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="personas">üë• N√∫mero de personas *</label>
                    <select id="personas" name="personas" required onchange="mostrarDisponibilidad()">
                        <option value="">Selecciona</option>
                        <option value="1">1 persona</option>
                        <option value="2">2 personas</option>
                        <option value="3">3 personas</option>
                        <option value="4">4 personas</option>
                        <option value="5">5 personas</option>
                        <option value="6">6 personas</option>
                        <option value="7">7 personas</option>
                        <option value="8">8 personas</option>
                        <option value="mas8">M√°s de 8 personas</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="comentarios">üí¨ Comentarios adicionales (opcional)</label>
                    <textarea id="comentarios" name="comentarios" placeholder="Ej: Alergias, men√∫ infantil, celebraci√≥n especial..."></textarea>
                </div>
                
                <button type="submit" class="submit-btn">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
                        <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.890-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
                    </svg>
                    <span>Reservar por WhatsApp</span>
                </button>
            </form>
        </div>
    </section>

    <section id="especialidades">
        <h2>Nuestras Especialidades</h2>
        <div class="especialidades-grid">
            <article class="plato-card">
                <div class="plato-imagen">
                    <!-- Sustituye la ruta por tu imagen real -->
                    <img src="arrozconbogavante.jpg" alt="Arroz con Bogavante - Restaurante La Clave Daimiel" loading="lazy">
                </div>
                <div class="plato-info">
                    <h3>Arroz con Bogavante</h3>
                    <p>Nuestro plato estrella: arroz caldoso elaborado con bogavante fresco y el toque especial de La Clave.</p>
                </div>
            </article>
            
            <article class="plato-card">
                <div class="plato-imagen">
                    <img src="carpaccio.jpg" alt="Carpaccio de Bacalao - Restaurante La Clave" loading="lazy">
                </div>
                <div class="plato-info">
                    <h3>Carpaccio de Bacalao</h3>
                    <p>Finas l√°minas de bacalao de primera calidad con un toque gourmet que sorprender√° tu paladar.</p>
                </div>
            </article>
            
            <article class="plato-card">
                <div class="plato-imagen">
                    <img src="pistoconhuevo.jpg" alt="Pisto con Huevo - Restaurante La Clave" loading="lazy">
                </div>
                <div class="plato-info">
                    <h3>Pisto con Huevo</h3>
                    <p>La receta tradicional manchega con verduras frescas de la huerta coronada con un huevo perfecto.</p>
                </div>
            </article>
        </div>
    </section>

    <section id="menu" class="menu">
        <h2>Men√∫ del D√≠a</h2>
        <div class="menu-content">
            <article class="menu-box">
                <h3>üçΩÔ∏è Men√∫ Mediod√≠a</h3>
                <p class="precio">13,50‚Ç¨</p>
                <ul class="menu-items">
                    <li>Primero a elegir</li>
                    <li>Segundo a elegir</li>
                    <li>Postre casero o caf√©</li>
                    <li>Pan y bebida incluidos</li>
                </ul>
            </article>
            
            <article class="menu-box">
                <h3>üåü Men√∫ Fin de Semana</h3>
                <p class="precio">Consultar</p>
                <ul class="menu-items">
                    <li>Carta especial de temporada</li>
                    <li>Platos elaborados</li>
                    <li>Opciones veganas</li>
                </ul>
            </article>
        </div>

        <!-- NUEVO: Visualizaci√≥n p√∫blica del men√∫ diario en imagen -->
        <div class="menu-preview-container">
            <h3 style="color:#8B4513; margin-bottom:1rem;">üì∑ Men√∫ del d√≠a de hoy</h3>
            <img id="menuDiarioImg" class="menu-img-display" alt="Men√∫ del d√≠a Restaurante La Clave">
            <div id="noMenuMsg" class="no-menu-msg">
                Hoy el men√∫ del d√≠a se confirma en sala. Preg√∫ntanos por WhatsApp o en el restaurante.
            </div>
        </div>
    </section>

    <section id="contacto">
        <h2>Encu√©ntranos</h2>
        <div class="contacto-grid">
            <div class="contacto-info">
                <div class="info-item">
                    <strong>üìç Direcci√≥n:</strong>
                    <span>Calle Cruz Ana Mar√≠a, 2<br>13250 Daimiel, Ciudad Real</span>
                </div>
                
                <div class="info-item">
                    <strong>üì± Tel√©fono:</strong>
                    <span>669 67 09 85</span>
                </div>
            </div>
            
            <aside class="horarios">
                <h3>üïê Horarios</h3>
                <p><strong>Lunes a Viernes:</strong><br>13:00 - 16:00 | 20:00 - 23:00</p>
                <p><strong>S√°bados y Domingos:</strong><br>13:00 - 16:30 | 20:00 - 23:30</p>
            </aside>
        </div>
        
        <div class="mapa-container">
            <iframe src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3039.8!2d-3.6152!3d39.0708!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd6bcce89c3e3b93%3A0x8e7c82a8f7c4e5f0!2sCalle%20Cruz%20Ana%20Mar%C3%ADa%2C%202%2C%2013250%20Daimiel%2C%20Ciudad%20Real!5e0!3m2!1ses!2ses!4v1641234567890!5m2!1ses!2ses" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
        </div>
    </section>

    <div class="modal" id="modalReserva">
        <div class="modal-content">
            <h3 style="color: #8B4513; margin-bottom: 1.5rem;">‚ûï A√±adir Reserva Manual</h3>
            <form id="formReservaManual" onsubmit="guardarReservaManual(event)">
                <div class="form-group">
                    <label>üë§ Nombre del cliente</label>
                    <input type="text" id="manualNombre" required>
                </div>
                <div class="form-group">
                    <label>‚òéÔ∏è Tel√©fono</label>
                    <div class="phone-group">
                        <select id="manualPrefijo" class="prefix-select">
                            <option value="+34" selected>üá™üá∏ +34</option>
                            <option value="+33">üá´üá∑ +33</option>
                            <option value="+44">üá¨üáß +44</option>
                        </select>
                        <input type="tel" id="manualTelefono" class="phone-input" 
                               placeholder="600123456" pattern="[0-9]{9}" maxlength="9">
                    </div>
                </div>
                <div class="form-group">
                    <label>üìÖ Fecha</label>
                    <input type="date" id="manualFecha" required>
                </div>
                <div class="form-group">
                    <label>üïê Hora</label>
                    <select id="manualHora" required>
                        <option value="">Selecciona</option>
                        <optgroup label="Mediod√≠a">
                            <option value="13:00">13:00</option>
                            <option value="13:30">13:30</option>
                            <option value="14:00">14:00</option>
                            <option value="14:30">14:30</option>
                            <option value="15:00">15:00</option>
                            <option value="15:30">15:30</option>
                        </optgroup>
                        <optgroup label="Cena">
                            <option value="20:00">20:00</option>
                            <option value="20:30">20:30</option>
                            <option value="21:00">21:00</option>
                            <option value="21:30">21:30</option>
                            <option value="22:00">22:00</option>
                            <option value="22:30">22:30</option>
                        </optgroup>
                    </select>
                </div>
                <div class="form-group">
                    <label>üë• Personas</label>
                    <select id="manualPersonas" required>
                        <option value="">Selecciona</option>
                        <option value="1">1 persona</option>
                        <option value="2">2 personas</option>
                        <option value="3">3 personas</option>
                        <option value="4">4 personas</option>
                        <option value="5">5 personas</option>
                        <option value="6">6 personas</option>
                        <option value="7">7 personas</option>
                        <option value="8">8 personas</option>
                        <option value="mas8">M√°s de 8 personas</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>üí¨ Comentarios</label>
                    <textarea id="manualComentarios"></textarea>
                </div>
                <div class="form-group">
                    <label>Estado</label>
                    <select id="manualEstado">
                        <option value="confirmada">üü¢ Confirmada</option>
                        <option value="pendiente">üü° Pendiente</option>
                    </select>
                </div>
                <div style="display: flex; gap: 1rem;">
                    <button type="submit" class="submit-btn" style="flex: 1;">‚úÖ Guardar</button>
                    <button type="button" class="cancel-btn" style="flex: 1;" onclick="cerrarModalReserva()">‚ùå Cancelar</button>
                </div>
            </form>
        </div>
    </div>

    <div class="legal-modal" id="avisoLegalModal">
        <div class="legal-content">
            <h2>‚öñÔ∏è Aviso Legal y Pol√≠tica de Privacidad</h2>
            
            <h3>1. Informaci√≥n General</h3>
            <p><strong>Titular:</strong> Restaurante La Clave<br>
            <strong>Direcci√≥n:</strong> Calle Cruz Ana Mar√≠a, 2 - 13250 Daimiel, Ciudad Real<br>
            <strong>Tel√©fono:</strong> 669 67 09 85</p>
            
            <h3>2. Objeto</h3>
            <p>El presente aviso legal regula el uso del sitio web de Restaurante La Clave. La navegaci√≥n por este sitio web atribuye la condici√≥n de usuario del mismo e implica la aceptaci√≥n de todas las condiciones incluidas en este aviso legal.</p>
            
            <h3>3. Pol√≠tica de Privacidad</h3>
            <p>En cumplimiento del Reglamento (UE) 2016/679 del Parlamento Europeo y del Consejo, de 27 de abril de 2016 (RGPD), le informamos:</p>
            
            <h4>Responsable del tratamiento:</h4>
            <p>Restaurante La Clave</p>
            
            <h4>Finalidad del tratamiento:</h4>
            <ul>
                <li>Gesti√≥n de reservas y consultas</li>
                <li>Env√≠o de comunicaciones relacionadas con nuestros servicios</li>
                <li>Cumplimiento de obligaciones legales</li>
            </ul>
            
            <h4>Base legal:</h4>
            <p>Consentimiento del interesado y ejecuci√≥n de contrato de servicios.</p>
            
            <h4>Destinatarios:</h4>
            <p>Los datos no ser√°n cedidos a terceros salvo obligaci√≥n legal.</p>
            
            <h4>Derechos:</h4>
            <p>Puede ejercer los derechos de acceso, rectificaci√≥n, supresi√≥n, limitaci√≥n, portabilidad y oposici√≥n dirigi√©ndose a: Restaurante La Clave, Calle Cruz Ana Mar√≠a, 2 - 13250 Daimiel, o al tel√©fono 669 67 09 85.</p>
            
            <button class="close-legal-btn" onclick="cerrarAvisoLegal()">Cerrar</button>
        </div>
    </div>

    <div class="legal-modal" id="cookiesModal">
        <div class="legal-content">
            <h2>üç™ Pol√≠tica de Cookies</h2>
            
            <h3>1. ¬øQu√© son las cookies?</h3>
            <p>Las cookies son peque√±os archivos de texto que los sitios web almacenan en tu dispositivo cuando los visitas.</p>
            
            <h3>2. Tipos de cookies que utilizamos</h3>
            
            <h4>Cookies t√©cnicas (necesarias):</h4>
            <ul>
                <li><strong>localStorage:</strong> Almacenamos las reservas localmente para el funcionamiento del sistema</li>
            </ul>
            
            <button class="close-legal-btn" onclick="cerrarCookies()">Cerrar</button>
        </div>
    </div>

    <a href="https://wa.me/34669670985?text=Hola%2C%20me%20gustar%C3%ADa%20hacer%20una%20reserva" 
       class="whatsapp-float" 
       target="_blank" 
       rel="noopener noreferrer"
       aria-label="Contactar por WhatsApp">
        <svg viewBox="0 0 24 24">
            <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.890-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
        </svg>
    </a>

    <footer>
        <p>&copy; 2026 Restaurante La Clave - Daimiel, Ciudad Real</p>
        <p>Cocina casera manchega con pasi√≥n</p>
        <div class="footer-links">
            <a href="javascript:void(0)" onclick="abrirAvisoLegal()">Aviso Legal y Privacidad</a>
            <a href="javascript:void(0)" onclick="abrirCookies()">Pol√≠tica de Cookies</a>
        </div>
    </footer>

    <script>
        const CAPACIDAD_MEDIODIA = 15;
        const CAPACIDAD_NOCHE = 15;
        const UMBRAL_NARANJA = 7;
        const UMBRAL_ROJO = 10;
        const PIN_ADMIN = '1234';
        const PRECIO_MEDIO = 25;
        const EXPIRACION_HORAS = 24;
        
        function abrirModalAdmin() {
            document.getElementById('adminModal').classList.add('show');
            document.body.style.overflow = 'hidden';
            document.getElementById('pinInput').focus();
        }
        
        function cerrarModalAdmin() {
            document.getElementById('adminModal').classList.remove('show');
            document.body.style.overflow = 'auto';
            document.getElementById('adminLogin').style.display = 'block';
            document.getElementById('adminContent').classList.remove('active');
            document.getElementById('pinInput').value = '';
            document.getElementById('dayReservations').classList.remove('show');
        }
        
        function verificarPIN() {
            const pin = document.getElementById('pinInput').value;
            
            if (pin === PIN_ADMIN) {
                document.getElementById('adminLogin').style.display = 'none';
                document.getElementById('adminContent').classList.add('active');
                limpiarReservasExpiradas();
                cargarDatosAdmin();
            } else {
                alert('‚ùå PIN incorrecto');
                document.getElementById('pinInput').value = '';
                document.getElementById('pinInput').focus();
            }
        }
        
        function obtenerReservas() {
            const reservas = localStorage.getItem('reservas');
            return reservas ? JSON.parse(reservas) : [];
        }
        
        function guardarReservas(reservas) {
            localStorage.setItem('reservas', JSON.stringify(reservas));
        }
        
        function limpiarReservasExpiradas() {
            const reservas = obtenerReservas();
            const ahora = new Date();
            const reservasActivas = reservas.filter(r => {
                if (r.estado === 'confirmada') return true;
                
                const fechaCreacion = new Date(r.timestamp);
                const horasTranscurridas = (ahora - fechaCreacion) / (1000 * 60 * 60);
                
                return horasTranscurridas < EXPIRACION_HORAS;
            });
            
            if (reservasActivas.length !== reservas.length) {
                guardarReservas(reservasActivas);
            }
        }
        
        function calcularOcupacion(fecha, turno) {
            const reservas = obtenerReservas();
            const horasMediodia = ['13:00', '13:30', '14:00', '14:30', '15:00', '15:30'];
            const horasNoche = ['20:00', '20:30', '21:00', '21:30', '22:00', '22:30'];
            
            let horasFiltro = turno === 'mediodia' ? horasMediodia : horasNoche;
            
            const ocupacion = reservas
                .filter(r => r.fecha === fecha && horasFiltro.includes(r.hora) && r.estado === 'confirmada')
                .reduce((sum, r) => {
                    const pers = r.personas === 'mas8' ? 10 : parseInt(r.personas);
                    return sum + pers;
                }, 0);
            return ocupacion;
        }
        
        function obtenerEstadoTurno(ocupacion) {
            if (ocupacion >= UMBRAL_ROJO) return 'full';
            if (ocupacion >= UMBRAL_NARANJA) return 'partial';
            return 'available';
        }
        
        function actualizarHorasDisponibles() {
            const fecha = document.getElementById('fecha').value;
            const horaSelect = document.getElementById('hora');
            
            if (!fecha) return;
            
            horaSelect.innerHTML = '<option value="">Selecciona hora</option>';
            
            const ocupacionMediodia = calcularOcupacion(fecha, 'mediodia');
            const ocupacionNoche = calcularOcupacion(fecha, 'noche');
            
            const disponibleMediodia = CAPACIDAD_MEDIODIA - ocupacionMediodia;
            const disponibleNoche = CAPACIDAD_NOCHE - ocupacionNoche;
            
            const mediodia = document.createElement('optgroup');
            mediodia.label = `Mediod√≠a (${disponibleMediodia}/${CAPACIDAD_MEDIODIA} confirmadas)`;
            
            const cena = document.createElement('optgroup');
            cena.label = `Cena (${disponibleNoche}/${CAPACIDAD_NOCHE} confirmadas)`;
            
            if (disponibleMediodia > 0) {
                ['13:00', '13:30', '14:00', '14:30', '15:00', '15:30'].forEach(hora => {
                    const option = document.createElement('option');
                    option.value = hora;
                    option.textContent = hora;
                    mediodia.appendChild(option);
                });
                horaSelect.appendChild(mediodia);
            }
            
            if (disponibleNoche > 0) {
                ['20:00', '20:30', '21:00', '21:30', '22:00', '22:30'].forEach(hora => {
                    const option = document.createElement('option');
                    option.value = hora;
                    option.textContent = hora;
                    cena.appendChild(option);
                });
                horaSelect.appendChild(cena);
            }
            
            if (disponibleMediodia === 0 && disponibleNoche === 0) {
                const option = document.createElement('option');
                option.value = '';
                option.textContent = 'Sin disponibilidad';
                option.disabled = true;
                horaSelect.appendChild(option);
            }
        }
        
        function mostrarDisponibilidad() {
            const fecha = document.getElementById('fecha').value;
            const hora = document.getElementById('hora').value;
            const personasVal = document.getElementById('personas').value;
            const infoDiv = document.getElementById('availabilityInfo');
            
            if (!fecha || !hora || !personasVal) {
                infoDiv.innerHTML = '';
                return;
            }
            
            const personas = personasVal === 'mas8' ? 10 : parseInt(personasVal);
            const esMediodia = ['13:00', '13:30', '14:00', '14:30', '15:00', '15:30'].includes(hora);
            const turno = esMediodia ? 'mediodia' : 'noche';
            const capacidad = esMediodia ? CAPACIDAD_MEDIODIA : CAPACIDAD_NOCHE;
            const ocupacion = calcularOcupacion(fecha, turno);
            const disponible = capacidad - ocupacion;
            
            if (personasVal === 'mas8') {
                infoDiv.innerHTML = '<div class="availability-info warning">‚ö†Ô∏è Para grupos grandes, confirmaremos por WhatsApp</div>';
            } else if (personas > disponible) {
                infoDiv.innerHTML = '<div class="availability-info full">‚ùå No hay plazas suficientes</div>';
            } else if (disponible - personas < 5) {
                infoDiv.innerHTML = '<div class="availability-info warning">‚ö†Ô∏è Quedan pocas plazas: ' + disponible + '/' + capacidad + '</div>';
            } else {
                infoDiv.innerHTML = '<div class="availability-info">‚úÖ Disponible: ' + disponible + '/' + capacidad + ' personas</div>';
            }
        }
        
        function enviarReserva(event) {
            event.preventDefault();
            
            const nombre = document.getElementById('nombre').value;
            const prefijo = document.getElementById('prefijo').value;
            const telefono = document.getElementById('telefono').value;
            const fecha = document.getElementById('fecha').value;
            const hora = document.getElementById('hora').value;
            const personasVal = document.getElementById('personas').value;
            const comentarios = document.getElementById('comentarios').value;
            
            if (telefono.length !== 9 || !/^[0-9]{9}$/.test(telefono)) {
                alert('‚ùå El tel√©fono debe tener exactamente 9 d√≠gitos');
                return;
            }
            
            if (personasVal !== 'mas8') {
                const personas = parseInt(personasVal);
                const esMediodia = ['13:00', '13:30', '14:00', '14:30', '15:00', '15:30'].includes(hora);
                const turno = esMediodia ? 'mediodia' : 'noche';
                const capacidad = esMediodia ? CAPACIDAD_MEDIODIA : CAPACIDAD_NOCHE;
                const ocupacion = calcularOcupacion(fecha, turno);
                const disponible = capacidad - ocupacion;
                
                if (personas > disponible) {
                    alert('‚ùå No hay plazas suficientes confirmadas');
                    return;
                }
            }
            
            const reservas = obtenerReservas();
            reservas.push({
                id: Date.now(),
                nombre: nombre,
                telefono: prefijo + telefono,
                fecha: fecha,
                hora: hora,
                personas: personasVal,
                comentarios: comentarios,
                estado: 'pendiente',
                timestamp: new Date().toISOString()
            });
            guardarReservas(reservas);
            
            const fechaObj = new Date(fecha + 'T00:00:00');
            const fechaFormateada = fechaObj.toLocaleDateString('es-ES', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' });
            
            let mensaje = `¬°Hola! Me gustar√≠a hacer una reserva:%0A%0A`;
            mensaje += `üë§ Nombre: ${nombre}%0A`;
            mensaje += `‚òéÔ∏è Tel√©fono: ${prefijo} ${telefono}%0A`;
            mensaje += `üìÖ Fecha: ${fechaFormateada}%0A`;
            mensaje += `üïê Hora: ${hora}%0A`;
            mensaje += `üë• Personas: ${personasVal === 'mas8' ? 'M√°s de 8' : personasVal}%0A`;
            
            if (comentarios) {
                mensaje += `%0Aüí¨ ${comentarios}%0A`;
            }
            
            window.open(`https://wa.me/34669670985?text=${mensaje}`, '_blank');
            
            document.getElementById('reservaForm').reset();
            document.getElementById('availabilityInfo').innerHTML = '<div class="availability-info">‚úÖ Reserva enviada (pendiente de confirmar)</div>';
        }
        
        function confirmarReserva(id) {
            let reservas = obtenerReservas();
            reservas = reservas.map(r => {
                if (r.id === id) {
                    return { ...r, estado: 'confirmada' };
                }
                return r;
            });
            guardarReservas(reservas);
            cargarDatosAdmin();
        }
        
        function cargarDatosAdmin() {
            const reservas = obtenerReservas();
            const hoy = new Date().toISOString().split('T')[0];
            
            const pendientes = reservas.filter(r => r.estado === 'pendiente');
            const confirmadas = reservas.filter(r => r.estado === 'confirmada');
            
            document.getElementById('reservasPendientes').textContent = pendientes.length;
            document.getElementById('reservasConfirmadas').textContent = confirmadas.length;
            document.getElementById('reservasHoy').textContent = confirmadas.filter(r => r.fecha === hoy).length;
            
            const totalPersonas = confirmadas.reduce((sum, r) => {
                const pers = r.personas === 'mas8' ? 10 : parseInt(r.personas);
                return sum + pers;
            }, 0);
            
            document.getElementById('ingresosEstimados').textContent = (totalPersonas * PRECIO_MEDIO).toFixed(0) + '‚Ç¨';
            
            generarCalendario();
            mostrarListaReservas();
        }
        
        function generarCalendario() {
            const grid = document.getElementById('calendarGrid');
            grid.innerHTML = '';
            
            const hoy = new Date();
            
            for (let i = 0; i < 30; i++) {
                const fecha = new Date(hoy);
                fecha.setDate(hoy.getDate() + i);
                const fechaStr = fecha.toISOString().split('T')[0];
                
                const ocupacionMediodia = calcularOcupacion(fechaStr, 'mediodia');
                const ocupacionNoche = calcularOcupacion(fechaStr, 'noche');
                
                const estadoMediodia = obtenerEstadoTurno(ocupacionMediodia);
                const estadoNoche = obtenerEstadoTurno(ocupacionNoche);
                
                const div = document.createElement('div');
                div.className = 'calendar-day-card';
                div.setAttribute('data-fecha', fechaStr);
                div.onclick = function() { mostrarReservasDia(fechaStr); };
                
                let emojiMediodia = estadoMediodia === 'full' ? 'üî¥' : estadoMediodia === 'partial' ? 'üü†' : 'üü¢';
                let emojiNoche = estadoNoche === 'full' ? 'üî¥' : estadoNoche === 'partial' ? 'üü†' : 'üü¢';
                
                div.innerHTML = `
                    <div class="calendar-day-header">
                        <strong>${fecha.getDate()}</strong>
                        <small>${fecha.toLocaleDateString('es-ES', { weekday: 'short', month: 'short' })}</small>
                    </div>
                    <div class="calendar-turnos">
                        <div class="turno-status ${estadoMediodia}">
                            ${emojiMediodia} COMIDA<br>
                            <small>${ocupacionMediodia}/${CAPACIDAD_MEDIODIA}</small>
                        </div>
                        <div class="turno-status ${estadoNoche}">
                            ${emojiNoche} CENA<br>
                            <small>${ocupacionNoche}/${CAPACIDAD_NOCHE}</small>
                        </div>
                    </div>
                `;
                
                grid.appendChild(div);
            }
        }
        
        function mostrarReservasDia(fecha) {
            document.querySelectorAll('.calendar-day-card').forEach(d => d.classList.remove('selected'));
            const card = document.querySelector(`[data-fecha="${fecha}"]`);
            if (card) card.classList.add('selected');
            
            const fechaObj = new Date(fecha + 'T00:00:00');
            const fechaFormateada = fechaObj.toLocaleDateString('es-ES', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            
            document.getElementById('dayTitle').textContent = `üìÖ Reservas del ${fechaFormateada}`;
            
            const reservas = obtenerReservas().filter(r => r.fecha === fecha);
            const horasMediodia = ['13:00', '13:30', '14:00', '14:30', '15:00', '15:30'];
            
            const reservasMediodia = reservas.filter(r => horasMediodia.includes(r.hora));
            const reservasNoche = reservas.filter(r => !horasMediodia.includes(r.hora));
            
            const mediodiaDiv = document.getElementById('reservasMediodia');
            if (reservasMediodia.length === 0) {
                mediodiaDiv.innerHTML = '<p class="no-reservations">Sin reservas</p>';
            } else {
                mediodiaDiv.innerHTML = reservasMediodia
                    .sort((a, b) => a.hora.localeCompare(b.hora))
                    .map(r => {
                        const personasTexto = r.personas === 'mas8' ? 'M√°s de 8' : r.personas;
                        const estadoClass = r.estado === 'pendiente' ? 'pendiente' : 'confirmada';
                        const estadoBadge = r.estado === 'pendiente' 
                            ? '<span class="estado-badge pendiente">üü° PENDIENTE</span>' 
                            : '<span class="estado-badge confirmada">üü¢ CONFIRMADA</span>';
                        const botonConfirmar = r.estado === 'pendiente' 
                            ? `<button class="confirm-btn" onclick="confirmarReserva(${r.id})">‚úÖ Confirmar</button>` 
                            : '';
                        
                        return `
                            <div class="reservation-mini ${estadoClass}">
                                <div>
                                    <strong>${r.hora} - ${r.nombre}</strong>
                                    <small>‚òéÔ∏è ${r.telefono} | üë• ${personasTexto} ${r.comentarios ? '| üí¨ ' + r.comentarios : ''}</small>
                                </div>
                                <div class="reservation-actions">
                                    ${estadoBadge}
                                    ${botonConfirmar}
                                </div>
                            </div>
                        `;
                    }).join('');
            }
            
            const nocheDiv = document.getElementById('reservasNoche');
            if (reservasNoche.length === 0) {
                nocheDiv.innerHTML = '<p class="no-reservations">Sin reservas</p>';
            } else {
                nocheDiv.innerHTML = reservasNoche
                    .sort((a, b) => a.hora.localeCompare(b.hora))
                    .map(r => {
                        const personasTexto = r.personas === 'mas8' ? 'M√°s de 8' : r.personas;
                        const estadoClass = r.estado === 'pendiente' ? 'pendiente' : 'confirmada';
                        const estadoBadge = r.estado === 'pendiente' 
                            ? '<span class="estado-badge pendiente">üü° PENDIENTE</span>' 
                            : '<span class="estado-badge confirmada">üü¢ CONFIRMADA</span>';
                        const botonConfirmar = r.estado === 'pendiente' 
                            ? `<button class="confirm-btn" onclick="confirmarReserva(${r.id})">‚úÖ Confirmar</button>` 
                            : '';
                        
                        return `
                            <div class="reservation-mini ${estadoClass}">
                                <div>
                                    <strong>${r.hora} - ${r.nombre}</strong>
                                    <small>‚òéÔ∏è ${r.telefono} | üë• ${personasTexto} ${r.comentarios ? '| üí¨ ' + r.comentarios : ''}</small>
                                </div>
                                <div class="reservation-actions">
                                    ${estadoBadge}
                                    ${botonConfirmar}
                                </div>
                            </div>
                        `;
                    }).join('');
            }
            
            document.getElementById('dayReservations').classList.add('show');
            document.getElementById('dayReservations').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }
        
        function mostrarListaReservas() {
            const lista = document.getElementById('reservationsList');
            const reservas = obtenerReservas().sort((a, b) => {
                if (a.fecha === b.fecha) return a.hora.localeCompare(b.hora);
                return a.fecha.localeCompare(b.fecha);
            });
            
            if (reservas.length === 0) {
                lista.innerHTML = '<p style="text-align: center; color: #999;">No hay reservas</p>';
                return;
            }
            
            lista.innerHTML = '';
            reservas.forEach(r => {
                const fechaObj = new Date(r.fecha + 'T00:00:00');
                const fechaFormateada = fechaObj.toLocaleDateString('es-ES', { weekday: 'short', day: 'numeric', month: 'short' });
                
                const personasTexto = r.personas === 'mas8' ? 'M√°s de 8' : r.personas;
                const estadoClass = r.estado === 'pendiente' ? 'pendiente' : 'confirmada';
                const estadoBadge = r.estado === 'pendiente' 
                    ? '<span class="estado-badge pendiente">üü° PENDIENTE</span>' 
                    : '<span class="estado-badge confirmada">üü¢ CONFIRMADA</span>';
                const botonConfirmar = r.estado === 'pendiente' 
                    ? `<button class="confirm-btn" onclick="confirmarReserva(${r.id})">‚úÖ Confirmar</button>` 
                    : '';
                
                const div = document.createElement('div');
                div.className = `reservation-item ${estadoClass}`;
                div.innerHTML = `
                    <div class="reservation-info">
                        <strong>${r.nombre} - ${fechaFormateada} a las ${r.hora}</strong>
                        <small>‚òéÔ∏è ${r.telefono} | üë• ${personasTexto} ${r.comentarios ? '| üí¨ ' + r.comentarios : ''}</small>
                    </div>
                    <div class="reservation-actions">
                        ${estadoBadge}
                        ${botonConfirmar}
                        <button class="delete-btn" onclick="eliminarReserva(${r.id})">üóëÔ∏è Eliminar</button>
                    </div>
                `;
                lista.appendChild(div);
            });
        }
        
        function eliminarReserva(id) {
            if (!confirm('¬øEliminar esta reserva?')) return;
            
            let reservas = obtenerReservas();
            reservas = reservas.filter(r => r.id !== id);
            guardarReservas(reservas);
            cargarDatosAdmin();
        }
        
        function abrirModalReserva() {
            document.getElementById('modalReserva').classList.add('show');
            const hoy = new Date().toISOString().split('T')[0];
            document.getElementById('manualFecha').setAttribute('min', hoy);
        }
        
        function cerrarModalReserva() {
            document.getElementById('modalReserva').classList.remove('show');
            document.getElementById('formReservaManual').reset();
        }
        
        function guardarReservaManual(event) {
            event.preventDefault();
            
            const telefono = document.getElementById('manualTelefono').value;
            if (telefono && (telefono.length !== 9 || !/^[0-9]{9}$/.test(telefono))) {
                alert('‚ùå El tel√©fono debe tener 9 d√≠gitos');
                return;
            }
            
            const reservas = obtenerReservas();
            const prefijo = document.getElementById('manualPrefijo').value;
            const telefonoCompleto = telefono ? prefijo + telefono : '';
            
            reservas.push({
                id: Date.now(),
                nombre: document.getElementById('manualNombre').value,
                telefono: telefonoCompleto,
                fecha: document.getElementById('manualFecha').value,
                hora: document.getElementById('manualHora').value,
                personas: document.getElementById('manualPersonas').value,
                comentarios: document.getElementById('manualComentarios').value,
                estado: document.getElementById('manualEstado').value,
                timestamp: new Date().toISOString()
            });
            guardarReservas(reservas);
            
            cerrarModalReserva();
            cargarDatosAdmin();
            alert('‚úÖ Reserva a√±adida');
        }

        // NUEVO: Guardar / mostrar la foto del men√∫ diario
        function actualizarFotoMenu(input) {
            if (input.files && input.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const base64Image = e.target.result;
                    localStorage.setItem('fotoMenuDiario', base64Image);
                    mostrarMenuPublico();
                    alert('‚úÖ Men√∫ actualizado correctamente en este navegador');
                };
                reader.readAsDataURL(input.files[0]);
            }
        }

        function mostrarMenuPublico() {
            const foto = localStorage.getItem('fotoMenuDiario');
            const imgElement = document.getElementById('menuDiarioImg');
            const msgElement = document.getElementById('noMenuMsg');

            if (!imgElement || !msgElement) return;

            if (foto) {
                imgElement.src = foto;
                imgElement.style.display = 'block';
                msgElement.style.display = 'none';
            } else {
                imgElement.style.display = 'none';
                msgElement.style.display = 'block';
            }
        }
        
        function abrirAvisoLegal() {
            document.getElementById('avisoLegalModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }
        
        function cerrarAvisoLegal() {
            document.getElementById('avisoLegalModal').classList.remove('show');
            document.body.style.overflow = 'auto';
        }
        
        function abrirCookies() {
            document.getElementById('cookiesModal').classList.add('show');
            document.body.style.overflow = 'hidden';
        }
        
        function cerrarCookies() {
            document.getElementById('cookiesModal').classList.remove('show');
            document.body.style.overflow = 'auto';
        }
        
        document.addEventListener('DOMContentLoaded', function() {
            const fechaInput = document.getElementById('fecha');
            const hoy = new Date().toISOString().split('T')[0];
            fechaInput.setAttribute('min', hoy);

            // Mostrar, si existe, la √∫ltima foto de men√∫ guardada
            mostrarMenuPublico();
        });
        
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                cerrarModalReserva();
                cerrarAvisoLegal();
                cerrarCookies();
            }
        });
    </script>
</body>
</html>
